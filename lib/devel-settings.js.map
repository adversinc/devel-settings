{"version":3,"sources":["../src/devel-settings.js"],"names":["develSettings","Meteor","Assets","process","env","NODE_ENV","devel","getText","settings","JSON","parse","ex","message","match","console","error","personal"],"mappings":";;;;;kBAGwBA,a;;AAHxB;;;;AACA;;;;;;AAEe,SAASA,aAAT,CAAuBC,MAAvB,EAA+BC,MAA/B,EAAuC;AACtD;AACC,KAAGC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA5B,EAA2C;AAC1C,MAAI;AACH,OAAIC,QAAQJ,OAAOK,OAAP,CAAe,qBAAf,CAAZ;AACA,6BAAWN,OAAOO,QAAlB,EAA4BC,KAAKC,KAAL,CAAW,iCAAkBJ,KAAlB,CAAX,CAA5B;AACA,GAHD,CAGE,OAAMK,EAAN,EAAU;AACX,OAAG,CAACA,GAAGC,OAAH,CAAWC,KAAX,CAAiB,eAAjB,CAAJ,EAAuC;AACtCC,YAAQC,KAAR,CAAcJ,EAAd;AACA;AACD;;AAED,MAAI;AACH,OAAIK,WAAWd,OAAOK,OAAP,CAAe,wBAAf,CAAf;AACA,6BAAWN,OAAOO,QAAlB,EAA4BC,KAAKC,KAAL,CAAW,iCAAkBM,QAAlB,CAAX,CAA5B;AACA,GAHD,CAGE,OAAML,EAAN,EAAU;AACX,OAAG,CAACA,GAAGC,OAAH,CAAWC,KAAX,CAAiB,eAAjB,CAAJ,EAAuC;AACtCC,YAAQC,KAAR,CAAc,IAAd,EAAoBJ,EAApB;AACA;AACD;AACD;AACD","file":"devel-settings.js","sourcesContent":["import stripJsonComments from \"strip-json-comments\";\r\nimport deepAssign from \"deep-assign\";\r\n\r\nexport default function develSettings(Meteor, Assets) {\r\n// Apply devel and personal settings over the project ones\r\n\tif(process.env.NODE_ENV === \"development\") {\r\n\t\ttry {\r\n\t\t\tlet devel = Assets.getText(\"settings-devel.json\");\r\n\t\t\tdeepAssign(Meteor.settings, JSON.parse(stripJsonComments(devel)));\r\n\t\t} catch(ex) {\r\n\t\t\tif(!ex.message.match(/Unknown asset/)) {\r\n\t\t\t\tconsole.error(ex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tlet personal = Assets.getText(\"settings-personal.json\");\r\n\t\t\tdeepAssign(Meteor.settings, JSON.parse(stripJsonComments(personal)));\r\n\t\t} catch(ex) {\r\n\t\t\tif(!ex.message.match(/Unknown asset/)) {\r\n\t\t\t\tconsole.error(\"2:\", ex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"]}